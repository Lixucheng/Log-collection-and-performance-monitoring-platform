<perf-layout :loading='loading' @getProject='getProject' :projectId='projectId' active='targetTable'>

  <div class="title" slot='title'>
    创建图表 {{project.name}} (共 {{list.length}} 个指标)
  </div>
  <div class="body perf-target-table-page" slot='body'>
    <el-row class='search-container'>
      <el-row class='search'>
        <el-form :model="searchData">
          <el-form-item>
            <el-autocomplete icon="search" class="inline-input" v-model="searchData.name" :fetch-suggestions="querySearch" placeholder="搜索或添加更多指标到图标"
              @select="handleSelect"></el-autocomplete>
          </el-form-item>
        </el-form>
      </el-row>
    </el-row>
    <el-table :data="showTarget" stripe style="width: 100%">
      <el-table-column prop="value" label="指标">
      </el-table-column>
      <el-table-column label="分析维度">
        <template scope="scope">
          <el-select v-model='seleteModel' @change='test1' placeholder="添加过滤器">
            <my-option @optionClick='test1(scope.row.value, item)' v-for="item in tags(scope.row.value)" :key="item" :label="item" :value="item">
            </my-option>
          </el-select>
        </template>
      </el-table-column>
      <el-table-column width='150' label="操作">
        <template scope="scope">
          <el-button @click='deleteTag(scope.row.value)' type='danger' size='small'>删除</el-button>
        </template>
      </el-table-column>
    </el-table>

    <el-button @click='test'>test</el-button>
    <div class='table' ref='table'></div>
  </div>

</perf-layout>
